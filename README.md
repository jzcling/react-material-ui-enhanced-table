# React Material UI Enhanced Table

An extended React Material UI Table that aims to make creating complex tables more straightforward.

## Installation

```
npm install --save @jeremyling/react-material-ui-enhanced-table
```

## Usage Example

## Props

| Prop                        | Type     | Default                                                                      | Description                                                                                                                                                                                                |
| --------------------------- | -------- | ---------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| rows                        | `array`  | required                                                                     | Table row content                                                                                                                                                                                          |
| headers                     | `array`  | required                                                                     | Table headers. Customise with props (see below)                                                                                                                                                            |
| dense                       | `bool`   | `true`                                                                       | Where to use dense prop for Material UI's Table                                                                                                                                                            |
| order                       | `string` | `asc`                                                                        | Column sort order. One of :<br/>`asc`,<br/>`desc`                                                                                                                                                          |
| orderBy                     | `string` | `id`                                                                         | Attribute to sort column by                                                                                                                                                                                |
| loading                     | `bool`   | `false`                                                                      | Whether to display loading Backdrop component                                                                                                                                                              |
| page                        | `number` | `1`                                                                          | Current page                                                                                                                                                                                               |
| pageCount                   | `number` | `undefined`                                                                  | Number of pages                                                                                                                                                                                            |
| rowsPerPage                 | `number` | `10`                                                                         | Number of rows per page                                                                                                                                                                                    |
| selected                    | `array`  | `[]`                                                                         | Selected row                                                                                                                                                                                               |
| descriptorAttribute         | `string` | undefined                                                                    | Attributed used to display descriptor for selected row in toolbar                                                                                                                                          |
| handleRowClick              | `func`   | `() => {}`                                                                   | Method to handle row click event                                                                                                                                                                           |
| handleRequestSort           | `func`   | `() => {}`                                                                   | Method to handle column sort click                                                                                                                                                                         |
| handlePageChange            | `func`   | `undefined`                                                                  | Method to handle page change                                                                                                                                                                               |
| handleRowsPerPageChange     | `func`   | `undefined`                                                                  | Method to handle rows per page change                                                                                                                                                                      |
| handleUniversalFilterChange | `func`   | `() => {}`                                                                   | Method to handle universal filter onChange event                                                                                                                                                           |
| handleDateChange            | `func`   | `() => {}`                                                                   | Method to handle date changes in date filters                                                                                                                                                              |
| handleActionClick           | `func`   | `() => {}`                                                                   | Method to handle table action click                                                                                                                                                                        |
| handleNestedAction          | `func`   | `() => {}`                                                                   | Method to handle action click within a nested table in a row                                                                                                                                               |
| handleNestedFieldChange     | `func`   | `() => {}`                                                                   | Method to handle nested field onChange event                                                                                                                                                               |
| nestedRowAction             | `object` | `{}`                                                                         | Object indicating the actions available for each nested row. Possible actions include `add` or `edit`. Object needs to be of the form `{ [nestedRowId]: { add: true, edit: true } }`                       |
| dates                       | `object` | `{ from: moment().format("YYYY-MM-DD"), to: moment().format("YYYY-MM-DD") }` | Filter dates                                                                                                                                                                                               |
| actionButtons               | `array`  | `["create", "edit", "delete", "filter"]`                                     | Actions to include in table                                                                                                                                                                                |
| showToolbar                 | `bool`   | `true`                                                                       | Where to show the toolbar                                                                                                                                                                                  |
| collapsible                 | `bool`   | `false`                                                                      | Whether each row should be collapsible                                                                                                                                                                     |
| collapseContent             | `array`  | `null`                                                                       | Array of content for each collapsible row. Index of this array should correspond to index of rows. The collapse content for `rows[0]` should be `collapseContent[0]`. Default collapse content is a table. |
| collapseHeaders             | `array`  | `[]`                                                                         | Headers for default table within collapse content. Required if `collapsible = true` and `collapseContent` prop is not passed                                                                               |
| openRows                    | `object` | `{}`                                                                         | Object to indicate which collapsible rows should be open. Object should be of the form `{ [row[identifier]]: true }`                                                                                       |
| handleCollapseIconClick     | `func`   | `() => {}`                                                                   | Method to handle collapse icon click event                                                                                                                                                                 |
| disableRowClick             | `bool`   | `false`                                                                      | Whether to ignore click event on row                                                                                                                                                                       |
| disableSelection            | `bool`   | `false`                                                                      |
| refreshBadgeCount           | `number` | `0`                                                                          | Badge count for refresh button. This can be used to indicate whether the table has pending unfetched data                                                                                                  |
| selectibleRows              | `array`  | `null`                                                                       | Manually define the selectible rows. Array should contain the row identifiers                                                                                                                              |
| identifier                  | `string` | `id`                                                                         | Attribute used as row identifier                                                                                                                                                                           |

## Header Props

| Prop                | Type     | Default     | Description                                                                                                                                                                                                                |
| ------------------- | -------- | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| key                 | `string` | `attribute` | Attribute used to determine row key                                                                                                                                                                                        |
| attribute           | `string` | `undefined` | Attribute used to determine cell content                                                                                                                                                                                   |
| label               | `string` | `undefined` | Header label                                                                                                                                                                                                               |
| multiField          | `bool`   | `undefined` | Whether the cell should display content from multiple attributes. Best used with `data` and `html` props.                                                                                                                  |
| data                | `array`  | `undefined` | Array of attributes used for multiField content. Required if `multiField = true`. Array should be of the form `[{ attribute: "name" }]`                                                                                    |
| html                | `string` | `undefined` | HTML code for displaying content. Attribute will be substituted in for `{{0}}`. If used with `multiField`, `data` attributes will be substituted in for `{{index}}`, where index is the position index of the `data` array |
| chip                | `bool`   | `undefined` | If true, column will contain a Material UI Chip populated with `attribute`. The `color` prop can be used to determine the Chip's color                                                                                     |
| color               | `object` | `undefined` | Used with `chip`. Object of the form `{ [option]: [bgColor, borderColor] }`                                                                                                                                                |
| collapse            | `bool`   | `undefined` | If true, column will contain a collapse icon                                                                                                                                                                               |
| checkbox            | `bool`   | `undefined` | If true, column will contain a Material UI Checkbox component that is controlled by whether the row is selected                                                                                                            |
| actions             | `array`  | `undefined` | Array containing possible actions for each row. Should be of the form `{ id: "cancel", icon: <Block />, tooltip: "Cancel", onClick: (event, row) => {}, color: indigo[400], hideCondition: (data) => {} }`                 |
| headerActions       | `array`  | `undefined` | Array containing possible actions for the header. Should be of the form `{ id: 'edit', icon: <Edit />, tooltip: 'Edit', onClick: (event) => {}, hideCondition: false, color: indigo[400]}`                                 |
| component           | `func`   | `undefined` | Custom component for cell content. Row data is passed as sole parameter.                                                                                                                                                   |
| stopPropagation     | `bool`   | `undefined` | Used with `component`. If true, cell component click will stop further propagation to parent row.                                                                                                                          |
| arrayAttribute      | `string` | `undefined` | Attribute used to populate nested table within row                                                                                                                                                                         |
| childAttribute      | `string` | `undefined` | Attribute within `arrayAttribute` object to display as nested row                                                                                                                                                          |
| childAttribute2     | `string` | `undefined` | Attribute within `arrayAttribute` object to display on left of `childAttribute` within nested row                                                                                                                          |
| childLabelAttribute | `string` | `undefined` | Attribute within `arrayAttribute` object to display on left of childAttribute and childAttribute2 within nested row                                                                                                        |
| childActions        | `object` | `undefined` | Object indicating which actions to show for each nested row. Actions available are `add`, `edit` and `delete`. Should be of the form `{ delete: true, edit: true, add: true }`.                                            |
| numeric             | `bool`   | `undefined` | If true, content will be right-aligned                                                                                                                                                                                     |
| price               | `bool`   | `undefined` | If true, content will be prefixed with `$`                                                                                                                                                                                 |
| date                | `bool`   | `undefined` | If true, content will be parsed with moment in the format `D MMM YYYY`                                                                                                                                                     |
| datetime            | `bool`   | `undefined` | If true, content will be parsed with moment in the format `D MMM YYYY` and `h:mm:ss a`                                                                                                                                     |
| time                | `bool`   | `undefined` | If true, content will be parsed with moment in the format `h:mm:ss a`                                                                                                                                                      |
| truncate            | `number` | `undefined` | Max length of string content                                                                                                                                                                                               |
| width               | `number` | `undefined` | Fixed width for column                                                                                                                                                                                                     |
| minWidth            | `number` | `undefined` | Minimum width for column                                                                                                                                                                                                   |
| maxWidth            | `number` | `undefined` | Maximum width for column                                                                                                                                                                                                   |
| disablePadding      | `bool`   | `undefined` | If true, cell padding will be set to 0                                                                                                                                                                                     |
| sortable            | `bool`   | `undefined` | If true, column will be sortable based on `attribute`. `attribute` is required for column to be sortable                                                                                                                   |
